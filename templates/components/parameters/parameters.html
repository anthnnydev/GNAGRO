{% extends 'layouts/base.html' %}

{% block title %}Parámetros - Sistema de Nómina{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50">
    <!-- Header de la página -->
    <div class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-gray-900">
                        <i class="fa-solid fa-gears text-primary-600 mr-3"></i>
                        Parámetros del Sistema
                    </h1>
                    <p class="mt-2 text-gray-600">
                        Configura y gestiona los parámetros principales de tu sistema de nómina
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Grid de módulos -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            
            <!-- Card: Departamentos -->
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                <div class="p-6">
                    <!-- Header del card -->
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-xl">
                                <i class="fas fa-building text-blue-600 text-2xl"></i>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ departments_stats.active }} Activos
                            </span>
                            {% if departments_stats.inactive > 0 %}
                            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ departments_stats.inactive }} Inactivos
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Departamentos</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Organiza tu empresa en departamentos. Define estructuras organizacionales, 
                            asigna jefes de área y gestiona la distribución del personal.
                        </p>
                    </div>
                    
                    <!-- Estadísticas -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-gray-900">{{ departments_stats.total }}</div>
                            <div class="text-xs text-gray-500">Total</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600">{{ departments_stats.active }}</div>
                            <div class="text-xs text-gray-500">Activos</div>
                        </div>
                    </div>
                    
                    <!-- Botones de acción -->
                    <div class="flex space-x-2">
                        <a href="{% url 'employees:department_list' %}" class="flex-1 bg-primary-600 text-gray-600 py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium">
                            <i class="fas fa-cog mr-2"></i>Gestionar
                        </a>
                        <button class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Card: Cargos -->
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                <div class="p-6">
                    <!-- Header del card -->
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-xl">
                                <i class="fas fa-building text-blue-600 text-2xl"></i>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ positions_stats.active }} Activos
                            </span>
                            {% if positions_stats.inactive > 0 %}
                            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ positions_stats.inactive }} Inactivos
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Cargos</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Define los puestos de trabajo de tu organización. Establece salarios base, 
                            responsabilidades y requisitos para cada posición.
                        </p>
                    </div>
                    
                    <!-- Estadísticas -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-gray-900">{{ positions_stats.total }}</div>
                            <div class="text-xs text-gray-500">Total</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600">{{ positions_stats.active }}</div>
                            <div class="text-xs text-gray-500">Activos</div>
                        </div>
                    </div>
                    
                    <!-- Botones de acción -->
                    <div class="flex space-x-2">
                        <a href="{% url 'employees:position_list' %}" class="flex-1 bg-primary-600 text-gray-600 py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium">
                            <i class="fas fa-cog mr-2"></i>Gestionar
                        </a>
                        <button class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Card: Tipos de Licencias -->
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                <div class="p-6">
                    <!-- Header del card -->
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-xl">
                                <i class="fas fa-building text-blue-600 text-2xl"></i>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ leaves_stats.active }} Activos
                            </span>
                            {% if leaves_stats.inactive > 0 %}
                            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ leaves_stats.inactive }} Inactivos
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Tipos de Licencias</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Administra los diferentes tipos de licencias y permisos. 
                            Define días permitidos, si son remuneradas y sus condiciones.
                        </p>
                    </div>
                    
                    <!-- Estadísticas -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-gray-900">{{ leaves_stats.total }}</div>
                            <div class="text-xs text-gray-500">Total</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600">{{ leaves_stats.active }}</div>
                            <div class="text-xs text-gray-500">Activos</div>
                        </div>
                    </div>
                    
                    <!-- Botones de acción -->
                    <div class="flex space-x-2">
                        <a href="{% url 'leaves:leave_type_list' %}" class="flex-1 bg-primary-600 text-gray-600 py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium">
                            <i class="fas fa-cog mr-2"></i>Gestionar
                        </a>
                        <button class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Card: Horarios de Trabajo -->
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                <div class="p-6">
                    <!-- Header del card -->
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-xl">
                                <i class="fas fa-building text-blue-600 text-2xl"></i>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ schedules_stats.active }} Activos
                            </span>
                            {% if leaves_stats.inactive > 0 %}
                            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ schedules_stats.inactive }} Inactivos
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Horarios de Trabajo</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Configura los diferentes horarios de trabajo. Define turnos, 
                            horas de entrada y salida, y días laborables.
                        </p>
                    </div>
                    
                    <!-- Estadísticas -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-gray-900">{{ schedules_stats.total }}</div>
                            <div class="text-xs text-gray-500">Total</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600">{{ schedules_stats.active }}</div>
                            <div class="text-xs text-gray-500">Activos</div>
                        </div>
                    </div>
                    
                    <!-- Botones de acción -->
                    <div class="flex space-x-2">
                        <a href="{% url 'attendance:work_schedule_list' %}" class="flex-1 bg-primary-600 text-gray-600 py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium">
                            <i class="fas fa-cog mr-2"></i>Gestionar
                        </a>
                        <button class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Card: Asignaciones de Horarios -->
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                <div class="p-6">
                    <!-- Header del card -->
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-xl">
                                <i class="fas fa-building text-blue-600 text-2xl"></i>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ employee_schedules_stats.active }} Activos
                            </span>
                            {% if leaves_stats.inactive > 0 %}
                            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ employee_schedules_stats.inactive }} Inactivos
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Asignaciones de Horarios</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Gestiona los turnos laborales de los empleados, 
                            definiendo días laborables, horas de entrada y salida.
                        </p>
                    </div>
                    
                    <!-- Estadísticas -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-gray-900">{{ employee_schedules_stats.total }}</div>
                            <div class="text-xs text-gray-500">Total</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600">{{ employee_schedules_stats.active }}</div>
                            <div class="text-xs text-gray-500">Activos</div>
                        </div>
                    </div>
                    
                    <!-- Botones de acción -->
                    <div class="flex space-x-2">
                        <a href="{% url 'attendance:employee_schedule_list' %}" class="flex-1 bg-primary-600 text-gray-600 py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium">
                            <i class="fas fa-cog mr-2"></i>Gestionar
                        </a>
                        <button class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Card: Feriados de Horarios -->
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                <div class="p-6">
                    <!-- Header del card -->
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-xl">
                                <i class="fas fa-building text-blue-600 text-2xl"></i>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ holidays_stats.active }} Activos
                            </span>
                            {% if leaves_stats.inactive > 0 %}
                            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ holidays_stats.inactive }} Inactivos
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Feriados de Horarios</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Administra los feriados y fechas clave que 
                            afectan la jornada laboral de los empleados.
                        </p>
                    </div>
                    
                    <!-- Estadísticas -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-gray-900">{{ holidays_stats.total }}</div>
                            <div class="text-xs text-gray-500">Total</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600">{{ holidays_stats.active }}</div>
                            <div class="text-xs text-gray-500">Activos</div>
                        </div>
                    </div>
                    
                    <!-- Botones de acción -->
                    <div class="flex space-x-2">
                        <a href="{% url 'attendance:holiday_list' %}" class="flex-1 bg-primary-600 text-gray-600 py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium">
                            <i class="fas fa-cog mr-2"></i>Gestionar
                        </a>
                        <button class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Card: Reglas de Horarios -->
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                <div class="p-6">
                    <!-- Header del card -->
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-xl">
                                <i class="fas fa-building text-blue-600 text-2xl"></i>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ attendance_rules_stats.active }} Activos
                            </span>
                            {% if leaves_stats.inactive > 0 %}
                            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ attendance_rules_stats.inactive }} Inactivos
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Reglas de Asistencia</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Define las políticas y condiciones 
                            para el control de asistencia del personal.
                        </p>
                    </div>
                    
                    <!-- Estadísticas -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-gray-900">{{ attendance_rules_stats.total }}</div>
                            <div class="text-xs text-gray-500">Total</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600">{{ attendance_rules_stats.active }}</div>
                            <div class="text-xs text-gray-500">Activos</div>
                        </div>
                    </div>
                    
                    <!-- Botones de acción -->
                    <div class="flex space-x-2">
                        <a href="{% url 'attendance:attendance_rule_list' %}" class="flex-1 bg-primary-600 text-gray-600 py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium">
                            <i class="fas fa-cog mr-2"></i>Gestionar
                        </a>
                        <button class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Card: Empresas -->
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                <div class="p-6">
                    <!-- Header del card -->
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <div class="bg-purple-100 p-3 rounded-xl">
                                <i class="fas fa-building text-purple-600 text-2xl"></i>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ companies_stats.active }} Activa{{ companies_stats.active|pluralize }}
                            </span>
                            {% if companies_stats.inactive > 0 %}
                            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                                {{ companies_stats.inactive }} Inactiva{{ companies_stats.inactive|pluralize }}
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Empresas</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Gestiona la información de las empresas registradas en el sistema. 
                            Configura datos fiscales y de contacto.
                        </p>
                    </div>
                    
                    <!-- Estadísticas -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-gray-900">{{ companies_stats.total }}</div>
                            <div class="text-xs text-gray-500">Total</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl font-bold text-purple-600">{{ companies_stats.active }}</div>
                            <div class="text-xs text-gray-500">Activas</div>
                        </div>
                    </div>
                    
                     <!-- Botones de acción -->
                    <div class="flex space-x-2">
                        <a href="{% url 'users:company_list' %}" class="flex-1 bg-primary-600 text-gray-600 py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium">
                            <i class="fas fa-cog mr-2"></i>Gestionar
                        </a>
                        <a href="{% url 'users:company_create' %}" class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            <i class="fas fa-plus"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Opcional: JavaScript para interacciones adicionales
document.addEventListener('DOMContentLoaded', function() {
    // Efecto hover para las cards
    const cards = document.querySelectorAll('.bg-white.rounded-xl');
    
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-8px)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
});
</script>

{% endblock %}